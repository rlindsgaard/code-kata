# Duty Roster Kata

A powershell script to generate an upcoming duty-roster. Script and tests are generated purely by prompting girhub copilot

## initial prompt

generate a powershell cmdlet that takes a list of names as argument. as output it should produce a new list taking a random element from the list of names and pairing it with a date. each date is generated by taking the following monday from the last computed date starting with  a date given as cmdlet argument, this argument is optionsl defaulting to the current date. The answer should include comment based help contet 


#### Notes

- “The answer should include comment based help contet” as initial request, was sufficient to get documented code throughout the session
- “a date given as cmdlet argument, this argument is optionsl defaulting to the current date” not only gave the wanted result but also added mandatory to the name argument
- “it should produce a new list taking a random element from the list of names and pairing it with a date” gave the wanted return type and format
- “each date is generated by taking the following monday from the last computed date starting with  a date given as cmdlet argument” gave a very satisfactory helper function abstracted away from the main body

### Refinement 1

use the previous command to generate code but remember to use powershell approved verbs for naming. for context you are computing a duty roster

#### Notes

- This made the code way less generic and thus more readable in terms of variable names

### Refinement 2

recompute your answer where there is another argument “count” that decides how many  times a name and date pair will be selected. The selection should be changed such that it takes the name away from the list of names when selected. when the list is empty it will be reset to the full list of names

#### Notes

- answer was satisfactory but code is messy and intertwined in body - suspicion is that I used layman’s terms as I was unable to translate my math into english terminology

## Unit testing

now generate a pester test file assuming it will be placed in the same directory with unit tests of the generated cmdlet

#### Notes

- There is no “example of complete outpit given an concrete input” (I like that as it documents the code
- The “Should default to the current date if no date is provided” test is waay to hard to read - those computations shouldn’t be needed

### Refinement “current date”
recompute the test file such that the ‘should default to the current date if no start date is provided’ uses a mocked Get-Date with a fixed date (e.g today)

#### Notes
- Still not good enough but better - it still wants to compute the following monday in the test even though we are fixing the input day. I would just re-write the code myself in terms of details and readability here

### Refinement “documenting tests”

recompute the test file such that it includes a test where, given an input such as the example input given as the “.EXAMPLE” section og the comment based help section of the cmdlet - the test asserts and checks the full output of the cmdlet

#### Notes
- This is exactly what I wanted for content - I would probably change the name of the test a little though.